ansible_user: ubuntu
domain_root: "coffeeboy.cafe"
hostnames:
  api: "sv-api.{{ domain_root }}"
  maps: "sv-maps.{{ domain_root }}"
  ushahidi: "sv-ushahidi.{{ domain_root }}"

dns_email: "connorkchris@icloud.com"
dns_provider: "cloudflare"
dns_api_token: "cloudflare_api_token"

# WireGuard
wg_network_cidr: "10.20.0.0/24"
wg_iface: "wg0"
wg_keepalive: 25
wg_port: 51820
wg_ip_offset: 2
wg_endpoint: "{{ ansible_host }}:{{ wg_port }}"

# MySQL
mysql_root_password: "changemestrong"
mysql_gr_user: "gruser"
mysql_gr_password: "changemestrong"
mysql_app_user: "ushahidi"
mysql_app_password: "changemestrong"
mysql_db: "ushahidi"

# MySQL Group Replication group
gr_group_name: "D35FFB92-58F5-499A-B1F6-40CCC244A0BD"  # uuidgen
gr_seeds:
  - "{{ hostvars['do-a'].wg_ip }}:33061"
  - "{{ hostvars['do-b'].wg_ip }}:33061"
  - "{{ hostvars['hz-a'].wg_ip }}:33061"

cluster_name: "pxc-cluster"
xtrabackup_password: "STRONG_XB_PASS"

# Garage
garage_s3_region: "garage"
garage_access_key_id: "GKREPLACE_WITH_ACCESS_KEY"
garage_secret_access_key: "REPLACE_WITH_SECRET_KEY"
garage_bucket_name: "ushahidi-uploads"
garage_replication_factor: 3
garage_admin_token: "REPLACE_WITH_ADMIN_TOKEN"
garage_metrics_token: "REPLACE_WITH_METRICS_TOKEN"
garage_rpc_secret: "9bfd81f81694e2414da9650a8224a1ae02cbd070e3821da62d2628841324e306"
garage_rpc_seeds:
  - "{{ hostvars['do-a'].wg_ip }}:3901"
  - "{{ hostvars['do-b'].wg_ip }}:3901"
  - "{{ hostvars['hz-a'].wg_ip }}:3901"
  - "{{ hostvars['hz-b'].wg_ip }}:3901"

# Ushahidi
ushahidi_image: "ushahidi/platform:latest"
ushahidi_site_url: "https://{{ hostnames.ushahidi }}"

# Traefik hostnames â†’ services map
traefik_routes:
  - host: "{{ hostnames.ushahidi }}"
    service: "ushahidi"
    port: 8080
    middlewares: [ "secureHeaders" ]
