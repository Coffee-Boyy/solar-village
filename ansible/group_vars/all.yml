ansible_user: deployer
domain_root: "coffeeboy.cafe"
hostnames:
  api: "sv-api.{{ domain_root }}"
  maps: "sv-maps.{{ domain_root }}"
  ushahidi: "sv-ushahidi.{{ domain_root }}"

dns_email: "connorkchris@icloud.com"
dns_provider: "cloudflare"
dns_api_token: "cloudflare_api_token"

# WireGuard
wg_network_cidr: "10.20.0.0/24"
wg_iface: "wg0"
wg_keepalive: 25
wg_port: 51820
wg_ip_offset: 2
wg_endpoint: "{{ ansible_host }}:{{ wg_port }}"

# MySQL
mysql_root_password: "changemestrong"
mysql_gr_user: "gruser"
mysql_gr_password: "changemestrong"
mysql_app_user: "ushahidi"
mysql_app_password: "changemestrong"
mysql_db: "ushahidi"

# MySQL Group Replication group
gr_group_name: "D35FFB92-58F5-499A-B1F6-40CCC244A0BD"  # uuidgen
gr_seeds:
  - "{{ hostvars['do-a'].wg_ip }}:33061"
  - "{{ hostvars['do-b'].wg_ip }}:33061"
  - "{{ hostvars['hz-a'].wg_ip }}:33061"

cluster_name: "pxc-cluster"
xtrabackup_password: "STRONG_XB_PASS"

# PKI defaults
mysql_pki_dir_controller: "generated-certs/ca"   # stored on controller
mysql_pki_days: 825                              # ~2.25 years
mysql_pki_org: "Solar Village"
mysql_pki_ou: "DB Cluster"
mysql_pki_country: "US"
mysql_pki_state: "CA"
mysql_pki_locality: "Sunnyvale"

# Optional client cert common name
mysql_client_cn: "mysql-client"

# MinIO
minio_access_key: "minioadmin"
minio_secret_key: "minioadminchange"
minio_cluster_nodes:
  - "http://{{ hostvars['do-a'].wg_ip }}:9000"
  - "http://{{ hostvars['do-b'].wg_ip }}:9000"
  - "http://{{ hostvars['hz-a'].wg_ip }}:9000"
  - "http://{{ hostvars['hz-b'].wg_ip }}:9000"

# Ushahidi
ushahidi_image: "ushahidi/platform:latest"
ushahidi_site_url: "https://{{ hostnames.ushahidi }}"

# Traefik hostnames â†’ services map
traefik_routes:
  - host: "{{ hostnames.ushahidi }}"
    service: "ushahidi"
    port: 8080
    middlewares: [ "secureHeaders" ]
