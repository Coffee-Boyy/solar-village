ansible_user: ubuntu
domain_root: "coffeeboy.cafe"
hostnames:
  api: "sv-api.{{ domain_root }}"
  maps: "sv-maps.{{ domain_root }}"
  ushahidi: "sv-ushahidi.{{ domain_root }}"

dns_email: "connorkchris@icloud.com"
dns_provider: "cloudflare"
dns_api_token: "cloudflare_api_token"

# WireGuard
wg_network_cidr: "10.20.0.0/24"
wg_iface: "wg0"
wg_keepalive: 25
wg_port: 51820
wg_ip_offset: 2
wg_endpoint: "{{ ansible_host }}:{{ wg_port }}"

# PostgreSQL (bare metal installation)
postgres_version: "18"
postgres_cluster_name: "postgres"
postgres_superuser_password: "changemestrong"
postgres_admin_password: "changemestrong"
postgres_replicator_password: "STRONG_REPLICATOR_PASS"
postgres_app_user: "ushahidi"
postgres_app_password: "changemestrong"
postgres_db: "ushahidi"
postgres_data_dir: "/var/lib/postgresql/18/data"
postgres_config_dir: "/etc/postgresql/18/main"
postgres_bin_dir: "/usr/lib/postgresql/18/bin"

# Patroni (bare metal installation)
patroni_config_path: "/etc/patroni/patroni.yml"
patroni_restapi_port: 8008

# PostgreSQL VIP Configuration
postgres_vip: "10.20.0.10"
postgres_vip_priority: 100
postgres_vrrp_router_id: 51
postgres_vrrp_priority: 100
postgres_vrrp_password: "VRRP_PASSWORD_CHANGE"

# etcd (bare metal installation)
etcd_version: "3.5.9"
etcd_data_dir: "/var/lib/etcd"
etcd_config_dir: "/etc/etcd"
etcd_cluster_token: "postgres-etcd-cluster"

# Garage
garage_image: "dxflrs/garage:v1.0.0"
garage_s3_region: "garage"
garage_access_key_id: "GKREPLACE_WITH_ACCESS_KEY"
garage_secret_access_key: "REPLACE_WITH_SECRET_KEY"
garage_bucket_name: "ushahidi-uploads"
garage_replication_factor: 3
garage_admin_token: "REPLACE_WITH_ADMIN_TOKEN"
garage_metrics_token: "REPLACE_WITH_METRICS_TOKEN"
garage_rpc_secret: "9bfd81f81694e2414da9650a8224a1ae02cbd070e3821da62d2628841324e306"

# Ushahidi
ushahidi_image: "ghcr.io/ushahidi/platform:v2025.04.1"
ushahidi_site_url: "https://{{ hostnames.ushahidi }}"

# Traefik hostnames â†’ services map
traefik_image: "traefik:v3.0"
traefik_routes:
  - host: "{{ hostnames.ushahidi }}"
    service: "ushahidi"
    port: 9080
    middlewares: [ "secureHeaders" ]
